import { Callout } from 'nextra/components'
import { DownloadIcon, LinkExternalIcon } from '@primer/octicons-react';

# Upgrading

This guide show you how to upgrade JumpServer to a more recent version.

<Callout type="warning">
Please back up your database first before proceeding with the upgrade!
</Callout>

## One-line installation script

_Using version `v4.0.1` as an example._

1. Change to the `/opt` directory, download and extract the latest installation package:

```sh
cd /opt && wget https://github.com/jumpserver/installer/releases/download/v4.0.1/jumpserver-installer-v4.0.1.tar.gz
```

```sh
tar -xf jumpserver-installer-v4.0.1.tar.gz
```

2. Enter the `jumpserver-installer-v4.0.1` directory, execute the upgrade, and start the service:

```sh
cd jumpserver-installer-v4.0.1 && ./jmsctl.sh upgrade
```

```sh
./jmsctl.sh start
```

## Helm
1. Open the following link in a browser [<LinkExternalIcon size={16} />](https://github.com/jumpserver/helm-charts/blob/main/charts/jumpserver/values.yaml) , and click the (<DownloadIcon size={16} />) button to download the latest version of file `values.yaml`:

```sh
https://github.com/jumpserver/helm-charts/blob/main/charts/jumpserver/values.yaml 
```

2. Update the Helm repository, and upgrade using the downloaded `values.yml` file:

```sh
helm repo update
```

```sh copy
helm upgrade jms-k8s jumpserver/jumpserver -n default -f values.yaml
```
